webpackJsonp([1],{0:function(n,l,u){n.exports=u("cDNt")},"8Sw2":function(n,l,u){function t(n){return u(e(n))}function e(n){var l=s[n];if(!(l+1))throw new Error("Cannot find module '"+n+"'.");return l}var s={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};t.keys=function(){return Object.keys(s)},t.resolve=e,n.exports=t,t.id="8Sw2"},cDNt:function(n,l,u){"use strict";function t(){var n,l,u="";for(n=0;n<32;n++)l=16*Math.random()|0,8!==n&&12!==n&&16!==n&&20!==n||(u+="-"),u+=(12===n?4:16===n?3&l|8:l).toString(16);return u}function e(){return Object(v.d)(F,Object(v.c)(L))}function s(n){return g._28(0,[(n()(),g._7(0,null,null,21,"nav",[["class","navbar navbar-default"]],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,18,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,6,"div",[["class","navbar-header"]],null,null,null,null,null)),(n()(),g._26(null,["\n      "])),(n()(),g._7(0,null,null,3,"a",[["class","navbar-brand"],["href","https://ng-book.com/2"]],null,null,null,null,null)),(n()(),g._26(null,["\n        "])),(n()(),g._7(0,null,null,0,"img",[["src","assets/images/logos/ng-book-2-minibook.png"]],null,null,null,null,null)),(n()(),g._26(null,["\n         ng-book 2\n      "])),(n()(),g._26(null,["\n    "])),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,7,"p",[["class","navbar-text navbar-right"]],null,null,null,null,null)),(n()(),g._26(null,["\n      "])),(n()(),g._7(0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,null,null,null,null)),(n()(),g._26(null,["\n        Messages "])),(n()(),g._7(0,null,null,1,"span",[["class","badge"]],null,null,null,null,null)),(n()(),g._26(null,["",""])),(n()(),g._26(null,["\n      "])),(n()(),g._26(null,["\n    "])),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],null,function(n,l){n(l,17,0,l.component.unreadMessagesCount)})}function a(n){return g._28(0,[(n()(),g._7(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._26(null,["\u2022"]))],null,null)}function r(n){return g._28(0,[(n()(),g._7(0,null,null,21,"div",[["class","media conversation"]],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,3,"div",[["class","pull-left"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,0,"img",[["class","media-object avatar"]],[[8,"src",4]],null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,10,"div",[["class","media-body"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,4,"h5",[["class","media-heading contact-name"]],null,null,null,null,null)),(n()(),g._26(null,["","\n      "])),(n()(),g._1(16777216,null,null,1,null,a)),g._5(16384,null,0,Z.d,[g.P,g.M],{ngIf:[0,"ngIf"]},null),(n()(),g._26(null,["\n    "])),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,1,"small",[["class","message-preview"]],null,null,null,null,null)),(n()(),g._26(null,["\n      ","\n    "])),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,1,"a",[["class","div-link"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.clicked(u)&&t}return t},null,null)),(n()(),g._26(null,["Select"])),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],function(n,l){n(l,12,0,l.component.selected)},function(n,l){var u=l.component;n(l,4,0,g._10(1,"",u.thread.avatarSrc,""));n(l,10,0,u.thread.name);n(l,16,0,u.thread.messages[u.thread.messages.length-1].text)})}function i(n){return g._28(0,[(n()(),g._7(0,null,null,2,"chat-thread",[],null,[[null,"onThreadSelected"]],function(n,l,u){var t=!0,e=n.component;if("onThreadSelected"===l){t=!1!==e.handleThreadClicked(u)&&t}return t},r,nn)),g._5(114688,null,0,J,[],{thread:[0,"thread"],selected:[1,"selected"]},{onThreadSelected:"onThreadSelected"}),(n()(),g._26(null,["\n    "]))],function(n,l){var u=l.component;n(l,1,0,l.context.$implicit,l.context.$implicit.id===u.currentThreadId)},null)}function c(n){return g._28(0,[(n()(),g._26(null,["\n"])),(n()(),g._7(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,4,"div",[["class","conversation-wrap"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._1(16777216,null,null,1,null,i)),g._5(802816,null,0,Z.c,[g.P,g.M,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],function(n,l){n(l,6,0,l.component.threads)},null)}function o(n){return g._28(0,[(n()(),g._7(0,null,null,3,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),g._26(null,["\n  "]))],null,function(n,l){var u=l.component;n(l,2,0,g._10(1,"",u.message.author.avatarSrc,""))})}function d(n){return g._28(0,[(n()(),g._7(0,null,null,3,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),g._26(null,["\n  "]))],null,function(n,l){var u=l.component;n(l,2,0,g._10(1,"",u.message.author.avatarSrc,""))})}function _(n){return g._28(0,[g._21(0,en,[]),(n()(),g._7(0,null,null,21,"div",[["class","msg-container"]],null,null,null,null,null)),g._5(278528,null,0,Z.b,[g.t,g.u,g.k,g.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),g._22(["base-sent","base-receive"]),(n()(),g._26(null,["\n\n  "])),(n()(),g._1(16777216,null,null,1,null,o)),g._5(16384,null,0,Z.d,[g.P,g.M],{ngIf:[0,"ngIf"]},null),(n()(),g._26(null,["\n\n  "])),(n()(),g._7(0,null,null,10,"div",[["class","messages"]],null,null,null,null,null)),g._5(278528,null,0,Z.b,[g.t,g.u,g.k,g.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),g._22(["msg-sent","msg-receive"]),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),g._26(null,["",""])),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,2,"p",[["class","time"]],null,null,null,null,null)),(n()(),g._26(null,[""," \u2022 ",""])),g._23(1),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n\n  "])),(n()(),g._1(16777216,null,null,1,null,d)),g._5(16384,null,0,Z.d,[g.P,g.M],{ngIf:[0,"ngIf"]},null),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],function(n,l){var u=l.component;n(l,2,0,"msg-container",n(l,3,0,!u.incoming,u.incoming));n(l,6,0,!u.incoming);n(l,9,0,"messages",n(l,10,0,!u.incoming,u.incoming));n(l,21,0,u.incoming)},function(n,l){var u=l.component;n(l,13,0,u.message.text);n(l,16,0,u.message.author.name,g._27(l,16,1,n(l,17,0,g._20(l,0),u.message.sentAt)))})}function h(n){return g._28(0,[(n()(),g._7(0,null,null,2,"chat-message",[],null,null,null,_,rn)),g._5(114688,null,0,sn,[],{message:[0,"message"]},null),(n()(),g._26(null,["\n          "]))],function(n,l){n(l,1,0,l.context.$implicit)},null)}function f(n){return g._28(0,[(n()(),g._7(0,null,null,50,"div",[["class","chat-window-container"]],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,47,"div",[["class","chat-window"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,44,"div",[["class","panel-container"]],null,null,null,null,null)),(n()(),g._26(null,["\n      "])),(n()(),g._7(0,null,null,41,"div",[["class","panel panel-default"]],null,null,null,null,null)),(n()(),g._26(null,["\n\n        "])),(n()(),g._7(0,null,null,13,"div",[["class","panel-heading top-bar"]],null,null,null,null,null)),(n()(),g._26(null,["\n          "])),(n()(),g._7(0,null,null,6,"div",[["class","panel-title-container"]],null,null,null,null,null)),(n()(),g._26(null,["\n            "])),(n()(),g._7(0,null,null,3,"h3",[["class","panel-title"]],null,null,null,null,null)),(n()(),g._26(null,["\n              "])),(n()(),g._7(0,null,null,0,"span",[["class","glyphicon glyphicon-comment"]],null,null,null,null,null)),(n()(),g._26(null,["\n              Chat - ","\n            "])),(n()(),g._26(null,["\n          "])),(n()(),g._26(null,["\n          "])),(n()(),g._7(0,null,null,2,"div",[["class","panel-buttons-container"]],null,null,null,null,null)),(n()(),g._26(null,["\n            "])),(n()(),g._26(null,["\n          "])),(n()(),g._26(null,["\n        "])),(n()(),g._26(null,["\n\n        "])),(n()(),g._7(0,null,null,4,"div",[["class","panel-body msg-container-base"]],null,null,null,null,null)),(n()(),g._26(null,["\n          "])),(n()(),g._1(16777216,null,null,1,null,h)),g._5(802816,null,0,Z.c,[g.P,g.M,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._26(null,["\n        "])),(n()(),g._26(null,["\n\n        "])),(n()(),g._7(0,null,null,17,"div",[["class","panel-footer"]],null,null,null,null,null)),(n()(),g._26(null,["\n          "])),(n()(),g._7(0,null,null,14,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),g._26(null,["\n            "])),(n()(),g._7(0,null,null,5,"input",[["class","chat-input"],["placeholder","Write your message here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==g._20(n,34)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==g._20(n,34).onTouched()&&t}if("compositionstart"===l){t=!1!==g._20(n,34)._compositionStart()&&t}if("compositionend"===l){t=!1!==g._20(n,34)._compositionEnd(u.target.value)&&t}if("keydown.enter"===l){t=!1!==e.onEnter(u)&&t}if("ngModelChange"===l){t=!1!==(e.draftMessage.text=u)&&t}return t},null,null)),g._5(16384,null,0,on.b,[g.F,g.k,[2,on.a]],null,null),g._24(1024,null,on.d,function(n){return[n]},[on.b]),g._5(671744,null,0,on.g,[[8,null],[8,null],[8,null],[2,on.d]],{model:[0,"model"]},{update:"ngModelChange"}),g._24(2048,null,on.e,null,[on.g]),g._5(16384,null,0,on.f,[on.e],null,null),(n()(),g._26(null,["\n            "])),(n()(),g._7(0,null,null,4,"span",[["class","input-group-btn"]],null,null,null,null,null)),(n()(),g._26(null,["\n              "])),(n()(),g._7(0,null,null,1,"button",[["class","btn-chat"]],null,[[null,"click"]],function(n,l,u){var t=!0,e=n.component;if("click"===l){t=!1!==e.onEnter(u)&&t}return t},null,null)),(n()(),g._26(null,["Send"])),(n()(),g._26(null,["\n            "])),(n()(),g._26(null,["\n          "])),(n()(),g._26(null,["\n        "])),(n()(),g._26(null,["\n\n      "])),(n()(),g._26(null,["\n    "])),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],function(n,l){var u=l.component;n(l,26,0,u.currentThread.messages);n(l,36,0,u.draftMessage.text)},function(n,l){n(l,15,0,l.component.currentThread.name);n(l,33,0,g._20(l,38).ngClassUntouched,g._20(l,38).ngClassTouched,g._20(l,38).ngClassPristine,g._20(l,38).ngClassDirty,g._20(l,38).ngClassValid,g._20(l,38).ngClassInvalid,g._20(l,38).ngClassPending)})}function p(n){return g._28(0,[(n()(),g._7(0,null,null,13,"div",[],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,1,"chat-nav-bar",[],null,null,null,s,W)),g._5(49152,null,0,X,[D],null,null),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,1,"chat-threads",[],null,null,null,c,tn)),g._5(49152,null,0,ln,[D],null,null),(n()(),g._26(null,["\n    "])),(n()(),g._7(0,null,null,1,"chat-window",[],null,null,null,f,_n)),g._5(49152,null,0,cn,[D,g.k],null,null),(n()(),g._26(null,["\n  "])),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],null,null)}function m(n){return g._28(0,[(n()(),g._7(0,null,null,4,"div",[],null,null,null,null,null)),(n()(),g._26(null,["\n  "])),(n()(),g._7(0,null,null,1,"chat-page",[],null,null,null,p,pn)),g._5(114688,null,0,hn,[],null,null),(n()(),g._26(null,["\n"])),(n()(),g._26(null,["\n"]))],function(n,l){n(l,3,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var g=u("/oeL"),j=function(){return function(){}}(),v=u("AYro"),b=function(n){return{type:"[User] Set Current",user:n}},y=u("5LV6"),w={currentUser:null},S=Object(y.createSelector)(function(n){return n.users},function(n){return n.currentUser}),k=function(n){return{type:"[Thread] Add",thread:n}},I=function(n,l){var u={id:t(),sentAt:new Date,isRead:!1,thread:n};return{type:"[Thread] Add Message",thread:n,message:Object.assign({},u,l)}},T=function(n){return{type:"[Thread] Select",thread:n}},C={ids:[],currentThreadId:null,entities:{}},P=function(n){return n.threads},O=Object(y.createSelector)(P,function(n){return n.entities}),x=Object(y.createSelector)(O,function(n){return Object.keys(n).map(function(l){return n[l]})}),z=Object(y.createSelector)(x,function(n){return n.reduce(function(n,l){return l.messages.forEach(function(l){l.isRead||++n}),n},0)}),A=Object(y.createSelector)(O,P,function(n,l){return n[l.currentThreadId]}),M=Object(y.createSelector)(x,function(n){return n.reduce(function(n,l){return n.concat(l.messages)},[]).sort(function(n,l){return n.sentAt-l.sentAt})}),F=Object(v.b)({users:function(n,l){switch(void 0===n&&(n=w),l.type){case"[User] Set Current":return{currentUser:l.user};default:return n}},threads:function(n,l){switch(void 0===n&&(n=C),l.type){case"[Thread] Add":return u=l.thread,n.ids.includes(u.id)?n:{ids:n.ids.concat([u.id]),currentThreadId:n.currentThreadId,entities:Object.assign({},n.entities,(c={},c[u.id]=u,c))};case"[Thread] Add Message":var u=l.thread,t=l.message,e=t.thread.id===n.currentThreadId||t.isRead,s=Object.assign({},t,{isRead:e}),a=n.entities[u.id],r=Object.assign({},a,{messages:a.messages.concat([s])});return{ids:n.ids,currentThreadId:n.currentThreadId,entities:Object.assign({},n.entities,(o={},o[u.id]=r,o))};case"[Thread] Select":var u=l.thread,i=(a=n.entities[u.id]).messages.map(function(n){return Object.assign({},n,{isRead:!0})}),r=Object.assign({},a,{messages:i});return{ids:n.ids,currentThreadId:u.id,entities:Object.assign({},n.entities,(d={},d[u.id]=r,d))};default:return n}var c,o,d}}),D=new g.q("App.store"),L=window.devToolsExtension?window.devToolsExtension():function(n){return n},E=u("ge1L"),V={id:t(),isClient:!0,name:"Juliet",avatarSrc:"assets/images/avatars/female-avatar-1.png"},R={id:t(),name:"Lady Capulet",avatarSrc:"assets/images/avatars/female-avatar-2.png"},Y={id:t(),name:"Echo Bot",avatarSrc:"assets/images/avatars/male-avatar-1.png"},B={id:t(),name:"Reverse Bot",avatarSrc:"assets/images/avatars/female-avatar-4.png"},Q={id:t(),name:"Waiting Bot",avatarSrc:"assets/images/avatars/male-avatar-2.png"},U={id:"tLadycap",name:R.name,avatarSrc:R.avatarSrc,messages:[]},G={id:"tEcho",name:Y.name,avatarSrc:Y.avatarSrc,messages:[]},K={id:"tRev",name:B.name,avatarSrc:B.avatarSrc,messages:[]},H={id:"tWait",name:Q.name,avatarSrc:Q.avatarSrc,messages:[]},q=function(){function n(n){this.store=n,function(n){n.dispatch(b(V)),n.dispatch(k(U)),n.dispatch(I(U,{author:V,sentAt:E().subtract(45,"minutes").toDate(),text:"Yet let me weep for such a feeling loss."})),n.dispatch(I(U,{author:R,sentAt:E().subtract(20,"minutes").toDate(),text:"So shall you feel the loss, but not the friend which you weep for."})),n.dispatch(k(G)),n.dispatch(I(G,{author:Y,sentAt:E().subtract(1,"minutes").toDate(),text:"I'll echo whatever you send me"})),n.dispatch(k(K)),n.dispatch(I(K,{author:B,sentAt:E().subtract(3,"minutes").toDate(),text:"I'll reverse whatever you send me"})),n.dispatch(k(H)),n.dispatch(I(H,{author:Q,sentAt:E().subtract(4,"minutes").toDate(),text:"I'll wait however many seconds you send to me before responding. Try sending '3'"})),n.dispatch(T(U));var l={};n.subscribe(function(){M(n.getState()).filter(function(n){return n.author.id===V.id}).map(function(u){if(!l.hasOwnProperty(u.id))switch(l[u.id]=!0,u.thread.id){case G.id:n.dispatch(I(G,{author:Y,text:u.text}));break;case K.id:n.dispatch(I(K,{author:B,text:u.text.split("").reverse().join("")}));break;case H.id:var t,e=parseInt(u.text,10);isNaN(e)?(e=0,t="I didn't understand "+u+". Try sending me a number"):t="I waited "+e+" seconds to send you this.",setTimeout(function(){n.dispatch(I(H,{author:Q,text:t}))},1e3*e)}})})}(n)}return n.ctorParameters=function(){return[{type:v.Store,decorators:[{type:g.o,args:[D]}]}]},n}(),X=function(){function n(n){var l=this;this.store=n,n.subscribe(function(){return l.updateState()}),this.updateState()}return n.prototype.updateState=function(){this.unreadMessagesCount=z(this.store.getState())},n.ctorParameters=function(){return[{type:v.Store,decorators:[{type:g.o,args:[D]}]}]},n}(),N=[[""]],W=g._4({encapsulation:0,styles:N,data:{}}),Z=(g._2("chat-nav-bar",X,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-nav-bar",[],null,null,null,s,W)),g._5(49152,null,0,X,[D],null,null)],null,null)},{},{},[]),u("qbdv")),J=function(){function n(){this.onThreadSelected=new g.m}return n.prototype.ngOnInit=function(){},n.prototype.clicked=function(n){this.onThreadSelected.emit(this.thread),n.preventDefault()},n.ctorParameters=function(){return[]},n}(),$=[[""]],nn=g._4({encapsulation:0,styles:$,data:{}}),ln=(g._2("chat-thread",J,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-thread",[],null,null,null,r,nn)),g._5(114688,null,0,J,[],null,null)],function(n,l){n(l,1,0)},null)},{thread:"thread",selected:"selected"},{onThreadSelected:"onThreadSelected"},[]),function(){function n(n){var l=this;this.store=n,n.subscribe(function(){return l.updateState()}),this.updateState()}return n.prototype.updateState=function(){var n=this.store.getState();this.threads=x(n),this.currentThreadId=A(n).id},n.prototype.handleThreadClicked=function(n){this.store.dispatch(T(n))},n.ctorParameters=function(){return[{type:v.Store,decorators:[{type:g.o,args:[D]}]}]},n}()),un=[[""]],tn=g._4({encapsulation:0,styles:un,data:{}}),en=(g._2("chat-threads",ln,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-threads",[],null,null,null,c,tn)),g._5(49152,null,0,ln,[D],null,null)],null,null)},{},{},[]),function(){function n(){}return n.prototype.transform=function(n,l){return E(n).fromNow()},n}()),sn=function(){function n(){}return n.prototype.ngOnInit=function(){this.incoming=!this.message.author.isClient},n}(),an=[[""]],rn=g._4({encapsulation:0,styles:an,data:{}}),cn=(g._2("chat-message",sn,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-message",[],null,null,null,_,rn)),g._5(114688,null,0,sn,[],null,null)],function(n,l){n(l,1,0)},null)},{message:"message"},{},[]),function(){function n(n,l){var u=this;this.store=n,this.el=l,n.subscribe(function(){return u.updateState()}),this.updateState(),this.draftMessage={text:""}}return n.prototype.updateState=function(){var n=this.store.getState();this.currentThread=A(n),this.currentUser=S(n),this.scrollToBottom()},n.prototype.scrollToBottom=function(){var n=this.el.nativeElement.querySelector(".msg-container-base");n&&setTimeout(function(){return n.scrollTop=n.scrollHeight})},n.prototype.sendMessage=function(){this.store.dispatch(I(this.currentThread,{author:this.currentUser,isRead:!0,text:this.draftMessage.text})),this.draftMessage={text:""}},n.prototype.onEnter=function(n){this.sendMessage(),n.preventDefault()},n.ctorParameters=function(){return[{type:v.Store,decorators:[{type:g.o,args:[D]}]},{type:g.k}]},n}()),on=u("bm2B"),dn=[[""]],_n=g._4({encapsulation:0,styles:dn,data:{}}),hn=(g._2("chat-window",cn,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-window",[],null,null,null,f,_n)),g._5(49152,null,0,cn,[D,g.k],null,null)],null,null)},{},{},[]),function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),fn=[[""]],pn=g._4({encapsulation:0,styles:fn,data:{}}),mn=(g._2("chat-page",hn,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"chat-page",[],null,null,null,p,pn)),g._5(114688,null,0,hn,[],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),[[""]]),gn=g._4({encapsulation:0,styles:mn,data:{}}),jn=g._2("app-root",q,function(n){return g._28(0,[(n()(),g._7(0,null,null,1,"app-root",[],null,null,null,m,gn)),g._5(49152,null,0,q,[D],null,null)],null,null)},{},{},[]),vn=u("fc+i"),bn=u("CPp0"),yn=g._3(j,[q],function(n){return g._18([g._19(512,g.i,g.Z,[[8,[jn]],[3,g.i],g.x]),g._19(5120,g.v,g._17,[[3,g.v]]),g._19(4608,Z.f,Z.e,[g.v]),g._19(4608,g.h,g.h,[]),g._19(5120,g.a,g._8,[]),g._19(5120,g.t,g._14,[]),g._19(5120,g.u,g._15,[]),g._19(4608,vn.c,vn.t,[vn.b]),g._19(6144,g.I,null,[vn.c]),g._19(4608,vn.f,vn.g,[]),g._19(5120,vn.d,function(n,l,u,t){return[new vn.l(n),new vn.p(l),new vn.o(u,t)]},[vn.b,vn.b,vn.b,vn.f]),g._19(4608,vn.e,vn.e,[vn.d,g.z]),g._19(135680,vn.n,vn.n,[vn.b]),g._19(4608,vn.m,vn.m,[vn.e,vn.n]),g._19(6144,g.G,null,[vn.m]),g._19(6144,vn.q,null,[vn.n]),g._19(4608,g.N,g.N,[g.z]),g._19(4608,vn.h,vn.h,[vn.b]),g._19(4608,vn.j,vn.j,[vn.b]),g._19(4608,on.i,on.i,[]),g._19(4608,bn.c,bn.c,[]),g._19(4608,bn.g,bn.b,[]),g._19(5120,bn.i,bn.j,[]),g._19(4608,bn.h,bn.h,[bn.c,bn.g,bn.i]),g._19(4608,bn.f,bn.a,[]),g._19(5120,bn.d,bn.k,[bn.h,bn.f]),g._19(5120,D,e,[]),g._19(512,Z.a,Z.a,[]),g._19(1024,g.l,vn.r,[]),g._19(1024,g.b,function(n,l){return[vn.s(n,l)]},[[2,vn.i],[2,g.y]]),g._19(512,g.c,g.c,[[2,g.b]]),g._19(131584,g._6,g._6,[g.z,g._0,g.r,g.l,g.i,g.c]),g._19(2048,g.e,null,[g._6]),g._19(512,g.d,g.d,[g.e]),g._19(512,vn.a,vn.a,[[3,vn.a]]),g._19(512,on.h,on.h,[]),g._19(512,on.c,on.c,[]),g._19(512,bn.e,bn.e,[]),g._19(512,j,j,[])])});Object(g.T)(),Object(vn.k)().bootstrapModuleFactory(yn)},gFIY:function(n,l){function u(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id="gFIY"}},[0]);